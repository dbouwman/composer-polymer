<link rel="import" href="../../bower_components/paper-spinner/paper-spinner.html">
<link rel="import" href="../composer-search-result/composer-search-result.html">

<polymer-element name="composer-search-results" attributes="searchEl, spinner, results">
  <template>
    <link rel="stylesheet" href="composer-search-results.css">

    <paper-spinner id="spinner"></paper-spinner>
      <ul>
        <template repeat="{{dataset in results.data}}">
          <!-- <composer-search-result dataset="{{dataset}}"></composer-search-result> -->
          <li class="dataset-item" data-itemid="{{dataset.id}}">
            <div>
              <h3 class="card-title" on-click="{{onItemClick}}">
                {{ dataset.name }}
              </h3>
              <em><small>from {{dataset.main_group_title}}</small></em>
            </div>
            <div>
              <div class="dataset-thumb">
                <img src="{{ dataset.thumbnail_url || 'elements/composer-search-results/default-dataset-thumb.png' }}">
              </div>
              <div class="result-main">
                <div class="snippet">
                  {{dataset.description}}
                </div>
              </div>
            </div>
          </li>
        </template>
      </ul>
  </template>
  
  <script src="composer-search-results.js"></script>

</polymer-element>
